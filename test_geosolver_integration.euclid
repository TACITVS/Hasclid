:set-timeout 10

-- Chained perpendicularity: AB ⊥ BC and BC ⊥ CD should force yD = yC (since BC vertical)
:reset
:point A 0 0
:point B S 0
:point C S S
:point D x y
:assume (= (perpendicular A B B C) 0)
:assume (= (perpendicular B C C D) 0)
(= yD yC)

-- Symbolic linear solve: 2*y = S -> y = S/2 (tests linear solver + normalization)
:reset
:assume (= (* 2 y) S)
(= y (* S 1/2))

-- Square with symbolic side S: all sides S and diagonal sqrt(2) S
:reset
:point A 0 0
:point B S 0
:point C S S
:point D 0 S
:assume (= (perpendicular A B B C) 0)
:assume (= (perpendicular B C C D) 0)
:assume (= (perpendicular C D D A) 0)
(= (dist2 B C) (^ S 2))
(= (dist2 C D) (^ S 2))
(= (dist2 D A) (^ S 2))
(= (dist2 A C) (* 2 (^ S 2)))

:q
