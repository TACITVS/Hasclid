-- simson_cad_optimized.euclid
-- Proof of Simson's Line using CAD Engine
-- Strategy: Inline projection formulas to avoid 6+ existential variables.
-- WLOG: P=(1,0), Vertices A, B, C on unit circle.

:reset
:set-timeout 180

-- Readable Breakdown:
-- Foot F = N / D
-- Collinearity: Det(N1/D1, N2/D2, N3/D3) = 0
-- Equivalent to: Det(N1*D2*D3, N2*D1*D3, N3*D1*D2) = 0

-- Single-Line Proof Command:
:prove (forall (ax ay bx by cx cy) (implies (and (= (+ (^ ax 2) (^ ay 2)) 1) (= (+ (^ bx 2) (^ by 2)) 1) (= (+ (^ cx 2) (^ cy 2)) 1) (> (+ (^ (- bx ax) 2) (^ (- by ay) 2)) 0) (> (+ (^ (- cx bx) 2) (^ (- cy by) 2)) 0) (> (+ (^ (- ax cx) 2) (^ (- ay cy) 2)) 0)) (= (+ (* (* (+ (* ax (+ (^ (- bx ax) 2) (^ (- by ay) 2))) (* (+ (* (- 1 ax) (- bx ax)) (* (- 0 ay) (- by ay))) (- bx ax))) (* (+ (^ (- cx bx) 2) (^ (- cy by) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))) (- (* (+ (* by (+ (^ (- cx bx) 2) (^ (- cy by) 2))) (* (+ (* (- 1 bx) (- cx bx)) (* (- 0 by) (- cy by))) (- cy by))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))) (* (+ (* cy (+ (^ (- ax cx) 2) (^ (- ay cy) 2))) (* (+ (* (- 1 cx) (- ax cx)) (* (- 0 cy) (- ay cy))) (- ay cy))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- cx bx) 2) (^ (- cy by) 2)))))) (+ (* (* (+ (* bx (+ (^ (- cx bx) 2) (^ (- cy by) 2))) (* (+ (* (- 1 bx) (- cx bx)) (* (- 0 by) (- cy by))) (- cx bx))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))) (- (* (+ (* cy (+ (^ (- ax cx) 2) (^ (- ay cy) 2))) (* (+ (* (- 1 cx) (- ax cx)) (* (- 0 cy) (- ay cy))) (- ay cy))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- cx bx) 2) (^ (- cy by) 2)))) (* (+ (* ay (+ (^ (- bx ax) 2) (^ (- by ay) 2))) (* (+ (* (- 1 ax) (- bx ax)) (* (- 0 ay) (- by ay))) (- by ay))) (* (+ (^ (- cx bx) 2) (^ (- cy by) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))))) (* (* (+ (* cx (+ (^ (- ax cx) 2) (^ (- ay cy) 2))) (* (+ (* (- 1 cx) (- ax cx)) (* (- 0 cy) (- ay cy))) (- ax cx))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- cx bx) 2) (^ (- cy by) 2)))) (- (* (+ (* ay (+ (^ (- bx ax) 2) (^ (- by ay) 2))) (* (+ (* (- 1 ax) (- bx ax)) (* (- 0 ay) (- by ay))) (- by ay))) (* (+ (^ (- cx bx) 2) (^ (- cy by) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))) (* (+ (* by (+ (^ (- cx bx) 2) (^ (- cy by) 2))) (* (+ (* (- 1 bx) (- cx bx)) (* (- 0 by) (- cy by))) (- cy by))) (* (+ (^ (- bx ax) 2) (^ (- by ay) 2)) (+ (^ (- ax cx) 2) (^ (- ay cy) 2)))))))) 0)))
