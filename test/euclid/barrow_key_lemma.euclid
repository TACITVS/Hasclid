-- =============================================================================
-- BARROW'S INEQUALITY - KEY LEMMA
-- =============================================================================
-- Lemma: 2*PU <= PB + PC
--
-- Where PU is the angle bisector from P in triangle BPC meeting side BC.
--
-- PROOF SKETCH:
-- 1. PU² = PB * PC * ((PB + PC)² - BC²) / (PB + PC)²
-- 2. To prove 4*PU² <= (PB + PC)², need:
--    4 * PB * PC * ((PB + PC)² - BC²) <= (PB + PC)⁴
-- 3. By AM-GM: 4*PB*PC <= (PB + PC)²
-- 4. So: LHS <= (PB+PC)² * ((PB+PC)² - BC²) = (PB+PC)⁴ - (PB+PC)²*BC² <= (PB+PC)⁴
--
-- This proves 4*PU² <= (PB+PC)², hence 2*PU <= PB + PC.
-- =============================================================================

:set-timeout 180
:optimize on

-- Variables: PB, PC, BC are positive reals with triangle inequality
:assume (> PB 0)
:assume (> PC 0)
:assume (> BC 0)

-- Triangle inequality: PB + PC > BC (necessary for valid triangle BPC)
:assume (> (+ PB PC) BC)

-- Define squared quantities
:assume (= sum2 (^ (+ PB PC) 2))
:assume (= diff (- sum2 (^ BC 2)))
:assume (> diff 0)

-- Define PU² from the angle bisector formula
:assume (= PU2 (/ (* (* PB PC) diff) sum2))
:assume (= (^ PU 2) PU2)
:assume (> PU 0)

-- =============================================================================
-- GOAL: 2*PU <= PB + PC
-- Equivalently: 4*PU² <= (PB + PC)²
-- Or: 4 * PU2 <= sum2
-- Or: 4 * PB * PC * diff <= sum2 * sum2
-- =============================================================================

-- Approach 1: Direct squared form
:auto (<= (* 4 PU2) sum2)


