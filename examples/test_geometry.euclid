-- Test file for new geometry commands
-- Testing: midpoint, perpendicular, parallel

-- Define a rectangle ABCD
:point A 0 0
:point B 4 0
:point C 4 3
:point D 0 3

-- Test 1: Midpoint
-- M is midpoint of AC (diagonal)
:point M 2 1.5
:assume (= (midpoint A C M) 0)

-- Verify midpoint property: distance AM = distance MC
(= (dist2 A M) (dist2 M C))

-- Test 2: Perpendicular sides
-- AB should be perpendicular to AD (rectangle property)
(= (perpendicular A B A D) 0)

-- Test 3: Parallel sides
-- AB should be parallel to DC
(= (parallel A B D C) 0)

-- Test 4: Combined - prove opposite sides are parallel AND equal
-- AD parallel to BC
(= (parallel A D B C) 0)

-- Test 5: Collinear points on a line
-- Define three points on x-axis
:point P1 1 0
:point P2 2 0
:point P3 5 0
(= (collinear P1 P2 P3) 0)

:list
